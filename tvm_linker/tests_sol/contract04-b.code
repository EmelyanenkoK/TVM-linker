.globl	constructor_AnotherContract
.type	constructor_AnotherContract, @function
RET

.globl	constructor_MyContract
.type	constructor_MyContract, @function
PUSHINT $constructor_AnotherContract$
CALL 1
RET

.globl	constructor
.type	constructor, @function
DROP
NEWDICT
NEWC STDICT ENDC
POPROOT
PUSHINT $constructor_AnotherContract$
CALL 1

.globl	remoteMethod
.type	remoteMethod, @function
LDU 256
DROP
PUSHINT $remoteMethod_internal$
CALL 1
RET

.globl	remoteMethod_internal
.type	remoteMethod_internal, @function
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Function: remoteMethod_internal
;; param: value
PRINTSTR SendMoney
;; get member sender
PUSHINT $get_msg_sender$
CALL 1
;; value
;; stack=2
PUSH s1
;; get member transfer
;; transfer()
SWAP
NEWC ENDC CTOS
PUSHINT $send_grams$
CALL 1
;; m_counter
;; stack=1
PUSHINT 0
PUSHROOT CTOS PLDDICT
PUSHINT 256
DICTUGET
PUSHCONT { LDU 256 ENDS }
PUSHCONT { PUSHINT 0 }
IFELSE
PUSHINT 1
;; +
ADD
;; assign m_counter
NEWC STU 256 ENDC CTOS
PUSHINT 0
PUSHROOT CTOS PLDDICT
PUSHINT 256
DICTUSET
NEWC STDICT ENDC
POPROOT
;; return
DROP
RET

