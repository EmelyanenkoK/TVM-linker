	.internal-alias :main_external,     -1
	.internal-alias :main_internal,     0
	.internal-alias :general_purpose,   1
	.internal-alias :authenticate,      2
	.internal-alias :parse_msg,         3

    .selector
    SETCP0

    .internal   :main_external
    CALL $:authenticate$ 
    DROP

    .internal   :authenticate
    DUP

    .internal   :main_internal
    RET         ;contract ignores internal msgs by default 

    .internal   :parse_msg
    CTOS        ;TODO: use parser from contract_api library

    .globl      func2
    CALL $func1$

    .globl      func1
    PUSHINT 1